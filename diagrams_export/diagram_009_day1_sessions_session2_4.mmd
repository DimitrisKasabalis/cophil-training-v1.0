%%| fig-cap: "Convolutional Neural Network Architecture for Land Cover Classification"
%%| fig-width: 100%

flowchart LR
    A[Input Image<br/>Sentinel-2<br/>64x64x13 bands] --> B[Conv Layer 1<br/>32 filters 3x3<br/>ReLU activation]

    B --> C[Max Pooling<br/>2x2<br/>32x32x32]

    C --> D[Conv Layer 2<br/>64 filters 3x3<br/>ReLU activation]

    D --> E[Max Pooling<br/>2x2<br/>16x16x64]

    E --> F[Conv Layer 3<br/>128 filters 3x3<br/>ReLU activation]

    F --> G[Max Pooling<br/>2x2<br/>8x8x128]

    G --> H[Flatten<br/>8192 neurons]

    H --> I[Dense Layer<br/>256 neurons<br/>ReLU + Dropout]

    I --> J[Output Layer<br/>Softmax<br/>6 classes]

    J --> K[Predictions<br/>Forest: 0.85<br/>Water: 0.05<br/>Urban: 0.03<br/>Agriculture: 0.04<br/>Bare: 0.02<br/>Wetlands: 0.01]

    style A fill:#e6f3ff,stroke:#0066cc,stroke-width:2px
    style B fill:#ffe6e6,stroke:#cc0044,stroke-width:2px
    style C fill:#fff4e6,stroke:#ff8800,stroke-width:2px
    style D fill:#ffe6e6,stroke:#cc0044,stroke-width:2px
    style E fill:#fff4e6,stroke:#ff8800,stroke-width:2px
    style F fill:#ffe6e6,stroke:#cc0044,stroke-width:2px
    style G fill:#fff4e6,stroke:#ff8800,stroke-width:2px
    style I fill:#e6ffe6,stroke:#00aa44,stroke-width:2px
    style J fill:#e6e6ff,stroke:#6666cc,stroke-width:2px
    style K fill:#ccffcc,stroke:#00aa44,stroke-width:2px